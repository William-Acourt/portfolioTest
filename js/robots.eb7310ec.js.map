{"version":3,"sources":["webpack:///./src/views/Articles.vue?bb15","webpack:///src/views/Articles.vue","webpack:///./src/views/Articles.vue?c070","webpack:///./src/views/Articles.vue","webpack:///./src/views/Articles.vue?b95c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","domProps","value","textFilter","on","input","updateTextFilterQuery","tagFilters","length","_l","tag","tagIndex","key","click","$event","removeTagFilter","text","cross","_e","name","article","articleIndex","index","tag-click","addTagFilter","staticRenderFns","Articlesvue_type_script_lang_js_","components","ArticleListItem","TagPill","data","articles","fake_articles","methods","pushNewTagsToQuery","newTags","$router","push","query","Object","objectSpread","$route","tags","join","undefined","_ref","target","filter","includes","newFilters","toConsumableArray","concat","el","getArticleURL","id","computed","filteredArticles","lowerCaseTagFilters","map","x","toLowerCase","findMatches","matches","props","addMatch","prop","keyword","arguments","doesCollide","match","m","some","keywords","split","t","sort","a","b","forEach","regexStr","replace","regex","RegExp","regexMatches","exec","lastIndex","matchIndex","every","matchResult","result","views_Articlesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Articles_vue_vue_type_style_index_0_id_e6803bf6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/robots.eb7310ec.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('h1',[_vm._v(\"Portfolio\")]),_c('input',{staticClass:\"search\",attrs:{\"placeholder\":\"Search Portfolio...\"},domProps:{\"value\":_vm.textFilter},on:{\"input\":_vm.updateTextFilterQuery}}),(_vm.tagFilters.length > 0)?_c('div',[_c('p',{staticClass:\"filterText\"},[_vm._v(\"Tag filters (click to remove):\")]),_c('ul',{staticClass:\"tagFilters\"},_vm._l((_vm.tagFilters),function(tag,tagIndex){return _c('li',{key:tagIndex,on:{\"click\":function($event){return _vm.removeTagFilter(tag)}}},[_c('tag-pill',{attrs:{\"text\":tag,\"cross\":true}})],1)}),0)]):_vm._e(),_c('transition-group',{attrs:{\"name\":\"fade\"}},_vm._l((_vm.filteredArticles),function(article,articleIndex){return _c('article-list-item',{key:articleIndex,attrs:{\"article\":article,\"index\":articleIndex},on:{\"tag-click\":_vm.addTagFilter}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <h1>Portfolio</h1>\n    <input placeholder=\"Search Portfolio...\" class=\"search\" :value=\"textFilter\" v-on:input=\"updateTextFilterQuery\">\n\n    <div v-if=\"tagFilters.length > 0\">\n      <p class=\"filterText\">Tag filters (click to remove):</p>\n      <ul class=\"tagFilters\">\n        <li v-on:click=\"removeTagFilter(tag)\" v-for=\"(tag, tagIndex) in tagFilters\" :key=\"tagIndex\">\n          <tag-pill :text=\"tag\" :cross=\"true\"/>\n        </li>\n      </ul>\n    </div>\n    <transition-group name=\"fade\">\n      <article-list-item\n        v-on:tag-click=\"addTagFilter\"\n        v-for=\"(article, articleIndex) in filteredArticles\"\n        :key=\"articleIndex\"\n        :article=\"article\"\n        :index=\"articleIndex\" />\n    </transition-group>\n  </div>\n</template>\n\n<script>\nimport ArticleListItem from '@/components/ArticleListItem.vue'\nimport TagPill from '@/components/TagPill.vue'\nimport { articles } from '@/fake_articles.json'\n\nexport default {\n  components: {\n    ArticleListItem,\n    TagPill\n  },\n\n  data () {\n    return {\n      articles\n    }\n  },\n\n  methods: {\n\n    // adds the new tag to the URL of the site\n    pushNewTagsToQuery (newTags) {\n      this.$router.push({\n        query: {\n          ...this.$route.query,\n          tags: newTags && newTags.length > 0 ? newTags.join(',') : undefined\n        }\n      })\n    },\n\n    // updates the site URL to the new tags\n    updateTextFilterQuery ({ target: { value } }) {\n      this.$router.push({\n        query: {\n          ...this.$route.query,\n          filter: value || undefined\n        }\n      })\n    },\n\n    // add a new tag filter to the array\n    addTagFilter (tag) {\n      if (!this.tagFilters.includes(tag)) {\n        const newFilters = [...this.tagFilters, tag]\n        this.pushNewTagsToQuery(newFilters)\n      }\n    },\n\n    // remove a tag filter from the array\n    removeTagFilter (tag) {\n      const newFilters = this.tagFilters.filter(el => el !== tag)\n      this.pushNewTagsToQuery(newFilters)\n    },\n\n    getArticleURL (id) {\n      return `/article/${id}`\n    }\n  },\n\n  computed: {\n\n    filteredArticles () {\n      const { textFilter, tagFilters } = this\n      const lowerCaseTagFilters = tagFilters.map(x => x.toLowerCase())\n\n      // finds all the matches in a single article\n      function findMatches (article) {\n        const matches = []\n\n        // the props to search\n        const props = ['title', 'subtitle']\n\n        // adds a match to the array of matches\n        function addMatch (prop, keyword, index, length = keyword.length) {\n          // this function checks if a match collides with another one.\n          // I.e. if you're seracing the word \"robot\" and your keywords are \"b\" and \"obo\" the b won't collide\n          function doesCollide (match) {\n            if (match.index < index && match.index + match.length > index) {\n              return true\n            }\n            if (match.index >= index && match.index <= index + length) {\n              return true\n            }\n\n            return false\n          }\n\n          // if any of the matches collide, don't add this match\n          if (matches.filter(m => m.prop === prop).some(doesCollide)) {\n            return\n          }\n\n          // add it to the array\n          matches.push({ prop, keyword, index, length })\n        }\n\n        // get all the keywords\n        // makes them lowercase, and filters out whitespace\n        // also sorts them in terms of length so that our filtering of collisions will prioritise longer matches\n        const keywords = textFilter.toLowerCase().split(' ').filter(t => !!t && t !== ' ').sort((a, b) => b.length - a.length)\n\n        // if there isn't a filter, then we'll just return everything as is\n        if (!textFilter) {\n          return { matches, article }\n        }\n\n        // we're going to serach in each of the properties we specified\n        props.forEach(prop => {\n          // grab the value\n          const value = article[prop]\n\n          // iterate over the keywords\n          keywords.forEach(keyword => {\n            // create a regex object based on the users search filter\n            const regexStr = keyword.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n            const regex = new RegExp(regexStr, 'gi')\n\n            // storing our matches here\n            const regexMatches = []\n\n            // keep adding matches until there are no more\n            for (let match = regex.exec(value); match !== null; match = regex.exec(value)) {\n              regexMatches.push(regex.lastIndex)\n            }\n\n            // add all of our matches to our array\n            regexMatches\n              .forEach(matchIndex => addMatch(prop, keyword, matchIndex - keyword.length))\n          })\n        })\n\n        // return it back\n        return {\n          matches,\n          article\n        }\n      }\n\n      return this.articles\n        .filter(article =>\n          // Allow through if we have no tag filters, or if we do, allow through if the article has at least 1 tag match\n          tagFilters.length === 0 || lowerCaseTagFilters.every(tag => article.tags.map(x => x.toLowerCase()).includes(tag))\n        )\n        .map(findMatches) // process our array of articles articles matched by our serach results\n        .filter(matchResult => !textFilter || matchResult.matches.length > 0) // show all results if there's no filter, or filter out articles that have no matches\n        .sort((a, b) => b.matches.length - a.matches.length) // sort articles by the articles with most matches fisrt\n        .map(result => ({ ...result.article, matches: result.matches })) // transform the results into an oject comining the article and search results\n    },\n\n    // the current text filters\n    textFilter () {\n      return this.$route.query.filter || ''\n    },\n\n    // the currently applied tag filters\n    tagFilters () {\n      const { tags } = this.$route.query\n      return tags ? tags.split(',') : []\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.fade-leave-active,\n.fade-enter-active {\n  transition: .5s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.filterText {\n  font-family: 'Open Sans', sans-serif;\n}\n\n.search {\n  border: none;\n  transition: border 1s;\n  border-bottom: 1.5px solid rgba(0,0,0,0.2);\n  display: block;\n  font-size: 1.5em;\n  margin-bottom: 2vw;\n}\n\ntextarea:focus, input:focus{\n  outline: none;\n  border-color: #2A9051;\n  transition: border 1s;\n}\n\n.tagFilters {\n  list-style: none;\n  padding: 0;\n\n  li {\n    cursor: pointer;\n    margin-right: 1vw;\n    display: inline-block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Articles.vue?vue&type=template&id=e6803bf6&scoped=true&\"\nimport script from \"./Articles.vue?vue&type=script&lang=js&\"\nexport * from \"./Articles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Articles.vue?vue&type=style&index=0&id=e6803bf6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6803bf6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=style&index=0&id=e6803bf6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Articles.vue?vue&type=style&index=0&id=e6803bf6&lang=scss&scoped=true&\""],"sourceRoot":""}